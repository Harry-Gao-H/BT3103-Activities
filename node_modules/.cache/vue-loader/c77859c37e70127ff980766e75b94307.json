{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Basket.vue?vue&type=style&index=0&id=021545c8&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Basket.vue","mtime":1614220340335},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KYnV0dG9uIHsNCiAgYmFja2dyb3VuZC1jb2xvcjogZGFya3NhbG1vbjsNCiAgYm9yZGVyLWNvbG9yOiBhbnRpcXVld2hpdGU7DQogIGZvbnQtc2l6ZTogMzBweDsNCn0NCg0K"},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA","file":"Basket.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n      <p>Menu: </p>\r\n      <ul>\r\n          <li v-for=\"item in itemsSelected\" v-bind:key=\"item[0]\">\r\n              {{item[0]}} x {{item[1]}}\r\n          </li>\r\n      </ul>\r\n        <button v-on:click=\"display();sendOrder()\"> Calculate Total </button>\r\n        <div v-show=\"this.show\">\r\n            <p>Subtotal: ${{getSubtotal}}</p>\r\n            <p>Grand Total: ${{getGrandTotal}}</p>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport database from \"../firebase.js\"\r\n\r\nexport default {\r\n    name: 'Basket',\r\n    data() {\r\n      return{\r\n          counter: 0,\r\n          show: false\r\n      }\r\n\r\n    },\r\n    props: {\r\n      itemsSelected: {\r\n        type : Array\r\n      }\r\n    },\r\n    methods:{\r\n        display: function() {\r\n            this.show = true\r\n        },\r\n        \r\n        sendOrder:function(){\r\n            var thisOrder = {\r\n              \"Prawn omelette\": 0,\r\n              \"Dry Beef Hor Fun\": 0,\r\n              \"Sambal KangKung\": 0,\r\n              \"Pork Fried Rice\": 0,\r\n              \"Mapo Tofu\" : 0,\r\n              \"Cereal Prawn\": 0\r\n            };\r\n            for(let i = 0; i < this.itemsSelected.length;i++) {\r\n              var thisItem = this.itemsSelected[i];\r\n              thisOrder[thisItem[0]] = thisItem[1]\r\n            }\r\n\r\n            database.collection(\"orders\").add(\r\n                thisOrder\r\n              ).then(() => {location.reload()} )\r\n        },\r\n    },\r\n\r\n    computed: {\r\n      getSubtotal: function() {\r\n          var sum = 0;\r\n          for (let i = 0; i < this.itemsSelected.length; i++) {\r\n              var item = this.itemsSelected[i]\r\n              sum+= item[1] * item[2]\r\n          }\r\n          //this.subtotal = sum;\r\n          return sum\r\n      },\r\n        getGrandTotal: function() {\r\n          //this.grandTotal = this.subtotal * 1.07\r\n          var sum = 0;\r\n          for (let i = 0; i < this.itemsSelected.length; i++) {\r\n              var item = this.itemsSelected[i]\r\n              sum+= item[1] * item[2]\r\n          }\r\n          return (sum*1.07).toFixed(2)\r\n      }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  background-color: darksalmon;\r\n  border-color: antiquewhite;\r\n  font-size: 30px;\r\n}\r\n\r\n</style>"]}]}