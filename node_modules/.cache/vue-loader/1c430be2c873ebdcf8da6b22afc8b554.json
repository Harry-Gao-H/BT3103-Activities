{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Orders.vue?vue&type=style&index=0&id=1a200e95&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Orders.vue","mtime":1614736998132},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KdWwgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LXdyYXA6IHdyYXA7DQogIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTsNCiAgcGFkZGluZzogMDsNCn0NCmxpIHsNCiAgZmxleC1ncm93OiAxOw0KICBmbGV4LWJhc2lzOiAzMDBweDsNCiAgdGV4dC1hbGlnbjogY2VudGVyOw0KICBwYWRkaW5nOiAxMHB4Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjMjIyOw0KICBtYXJnaW46IDEwcHg7DQp9DQoNCmJ1dHRvbiB7DQogIHdpZHRoOiA2NXB4Ow0KICBoZWlnaHQ6IDMwcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNmN2NhYzk7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIGJvcmRlci13aWR0aDogMXB4Ow0KfQ0K"},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Orders.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <ul id=\"itemsList\">\r\n            <li v-for=\"order in this.orders\" v-bind:key = \"order.id\">\r\n                <p v-for=\"(quantity, dish) in order[1]\" v-bind:key=\"dish.id\"> {{dish}}: {{quantity}} </p>\r\n                <!-- {{getOrderList(order[1])}}-->\r\n                <button v-bind:id= order[0] v-on:click=\"deleteItem($event)\"> Delete </button>\r\n                <button v-bind:id= order[0] v-on:click=\"route($event)\"> Modify </button>\r\n            </li>\r\n            \r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport database from \"../firebase.js\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            orders:[]\r\n        }\r\n    },\r\n    created:function() {\r\n        this.fetchItems()\r\n    },\r\n\r\n    methods: {\r\n        fetchItems:function() {\r\n              database.collection('orders').get().then(snapshot => {\r\n                snapshot.docs.forEach(doc => {\r\n                    this.orders.push([doc.id, doc.data()]);\r\n                });\r\n            });\r\n        },\r\n        getOrderList:function(order){\r\n            var string = \"\";\r\n            for (var dish in order) {\r\n                string += dish + \": \" + order[dish] + \"\\n\"\r\n            }\r\n\r\n            return string\r\n        },\r\n        deleteItem:function(event) { \r\n            let doc_id = event.target.getAttribute(\"id\");\r\n            //console.log(doc_id)\r\n            database.collection(\"orders\").doc(doc_id).delete().then(()=>{location.reload();});\r\n            \r\n        },\r\n        route:function(event) {\r\n            let user_id = event.target.getAttribute(\"id\") \r\n            this.$router.push({ name : \"MODIFY\",\r\n                                params:  { id: user_id} })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nul {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  flex-grow: 1;\r\n  flex-basis: 300px;\r\n  text-align: center;\r\n  padding: 10px;\r\n  border: 1px solid #222;\r\n  margin: 10px;\r\n}\r\n\r\nbutton {\r\n  width: 65px;\r\n  height: 30px;\r\n  background-color: #f7cac9;\r\n  border-radius: 10px;\r\n  border-width: 1px;\r\n}\r\n</style>"]}]}