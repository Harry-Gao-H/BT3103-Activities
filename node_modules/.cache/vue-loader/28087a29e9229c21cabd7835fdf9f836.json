{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Basket.vue","mtime":1614220340335},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZGF0YWJhc2UgZnJvbSAiLi4vZmlyZWJhc2UuanMiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnQmFza2V0JywNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuew0KICAgICAgICAgIGNvdW50ZXI6IDAsDQogICAgICAgICAgc2hvdzogZmFsc2UNCiAgICAgIH0NCg0KICAgIH0sDQogICAgcHJvcHM6IHsNCiAgICAgIGl0ZW1zU2VsZWN0ZWQ6IHsNCiAgICAgICAgdHlwZSA6IEFycmF5DQogICAgICB9DQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgZGlzcGxheTogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB0aGlzLnNob3cgPSB0cnVlDQogICAgICAgIH0sDQogICAgICAgIA0KICAgICAgICBzZW5kT3JkZXI6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciB0aGlzT3JkZXIgPSB7DQogICAgICAgICAgICAgICJQcmF3biBvbWVsZXR0ZSI6IDAsDQogICAgICAgICAgICAgICJEcnkgQmVlZiBIb3IgRnVuIjogMCwNCiAgICAgICAgICAgICAgIlNhbWJhbCBLYW5nS3VuZyI6IDAsDQogICAgICAgICAgICAgICJQb3JrIEZyaWVkIFJpY2UiOiAwLA0KICAgICAgICAgICAgICAiTWFwbyBUb2Z1IiA6IDAsDQogICAgICAgICAgICAgICJDZXJlYWwgUHJhd24iOiAwDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuaXRlbXNTZWxlY3RlZC5sZW5ndGg7aSsrKSB7DQogICAgICAgICAgICAgIHZhciB0aGlzSXRlbSA9IHRoaXMuaXRlbXNTZWxlY3RlZFtpXTsNCiAgICAgICAgICAgICAgdGhpc09yZGVyW3RoaXNJdGVtWzBdXSA9IHRoaXNJdGVtWzFdDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oIm9yZGVycyIpLmFkZCgNCiAgICAgICAgICAgICAgICB0aGlzT3JkZXINCiAgICAgICAgICAgICAgKS50aGVuKCgpID0+IHtsb2NhdGlvbi5yZWxvYWQoKX0gKQ0KICAgICAgICB9LA0KICAgIH0sDQoNCiAgICBjb21wdXRlZDogew0KICAgICAgZ2V0U3VidG90YWw6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgIHZhciBzdW0gPSAwOw0KICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtc1NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1NlbGVjdGVkW2ldDQogICAgICAgICAgICAgIHN1bSs9IGl0ZW1bMV0gKiBpdGVtWzJdDQogICAgICAgICAgfQ0KICAgICAgICAgIC8vdGhpcy5zdWJ0b3RhbCA9IHN1bTsNCiAgICAgICAgICByZXR1cm4gc3VtDQogICAgICB9LA0KICAgICAgICBnZXRHcmFuZFRvdGFsOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAvL3RoaXMuZ3JhbmRUb3RhbCA9IHRoaXMuc3VidG90YWwgKiAxLjA3DQogICAgICAgICAgdmFyIHN1bSA9IDA7DQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zU2VsZWN0ZWRbaV0NCiAgICAgICAgICAgICAgc3VtKz0gaXRlbVsxXSAqIGl0ZW1bMl0NCiAgICAgICAgICB9DQogICAgICAgICAgcmV0dXJuIChzdW0qMS4wNykudG9GaXhlZCgyKQ0KICAgICAgfQ0KDQogIH0sDQp9DQo="},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Basket.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n      <p>Menu: </p>\r\n      <ul>\r\n          <li v-for=\"item in itemsSelected\" v-bind:key=\"item[0]\">\r\n              {{item[0]}} x {{item[1]}}\r\n          </li>\r\n      </ul>\r\n        <button v-on:click=\"display();sendOrder()\"> Calculate Total </button>\r\n        <div v-show=\"this.show\">\r\n            <p>Subtotal: ${{getSubtotal}}</p>\r\n            <p>Grand Total: ${{getGrandTotal}}</p>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport database from \"../firebase.js\"\r\n\r\nexport default {\r\n    name: 'Basket',\r\n    data() {\r\n      return{\r\n          counter: 0,\r\n          show: false\r\n      }\r\n\r\n    },\r\n    props: {\r\n      itemsSelected: {\r\n        type : Array\r\n      }\r\n    },\r\n    methods:{\r\n        display: function() {\r\n            this.show = true\r\n        },\r\n        \r\n        sendOrder:function(){\r\n            var thisOrder = {\r\n              \"Prawn omelette\": 0,\r\n              \"Dry Beef Hor Fun\": 0,\r\n              \"Sambal KangKung\": 0,\r\n              \"Pork Fried Rice\": 0,\r\n              \"Mapo Tofu\" : 0,\r\n              \"Cereal Prawn\": 0\r\n            };\r\n            for(let i = 0; i < this.itemsSelected.length;i++) {\r\n              var thisItem = this.itemsSelected[i];\r\n              thisOrder[thisItem[0]] = thisItem[1]\r\n            }\r\n\r\n            database.collection(\"orders\").add(\r\n                thisOrder\r\n              ).then(() => {location.reload()} )\r\n        },\r\n    },\r\n\r\n    computed: {\r\n      getSubtotal: function() {\r\n          var sum = 0;\r\n          for (let i = 0; i < this.itemsSelected.length; i++) {\r\n              var item = this.itemsSelected[i]\r\n              sum+= item[1] * item[2]\r\n          }\r\n          //this.subtotal = sum;\r\n          return sum\r\n      },\r\n        getGrandTotal: function() {\r\n          //this.grandTotal = this.subtotal * 1.07\r\n          var sum = 0;\r\n          for (let i = 0; i < this.itemsSelected.length; i++) {\r\n              var item = this.itemsSelected[i]\r\n              sum+= item[1] * item[2]\r\n          }\r\n          return (sum*1.07).toFixed(2)\r\n      }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  background-color: darksalmon;\r\n  border-color: antiquewhite;\r\n  font-size: 30px;\r\n}\r\n\r\n</style>"]}]}