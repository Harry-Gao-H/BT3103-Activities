{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Orders.vue","mtime":1614736998132},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZGF0YWJhc2UgZnJvbSAiLi4vZmlyZWJhc2UuanMiDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgb3JkZXJzOltdDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQ6ZnVuY3Rpb24oKSB7DQogICAgICAgIHRoaXMuZmV0Y2hJdGVtcygpDQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZmV0Y2hJdGVtczpmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgZGF0YWJhc2UuY29sbGVjdGlvbignb3JkZXJzJykuZ2V0KCkudGhlbihzbmFwc2hvdCA9PiB7DQogICAgICAgICAgICAgICAgc25hcHNob3QuZG9jcy5mb3JFYWNoKGRvYyA9PiB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMub3JkZXJzLnB1c2goW2RvYy5pZCwgZG9jLmRhdGEoKV0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGdldE9yZGVyTGlzdDpmdW5jdGlvbihvcmRlcil7DQogICAgICAgICAgICB2YXIgc3RyaW5nID0gIiI7DQogICAgICAgICAgICBmb3IgKHZhciBkaXNoIGluIG9yZGVyKSB7DQogICAgICAgICAgICAgICAgc3RyaW5nICs9IGRpc2ggKyAiOiAiICsgb3JkZXJbZGlzaF0gKyAiXG4iDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBzdHJpbmcNCiAgICAgICAgfSwNCiAgICAgICAgZGVsZXRlSXRlbTpmdW5jdGlvbihldmVudCkgeyANCiAgICAgICAgICAgIGxldCBkb2NfaWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCJpZCIpOw0KICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhkb2NfaWQpDQogICAgICAgICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCJvcmRlcnMiKS5kb2MoZG9jX2lkKS5kZWxldGUoKS50aGVuKCgpPT57bG9jYXRpb24ucmVsb2FkKCk7fSk7DQogICAgICAgICAgICANCiAgICAgICAgfSwNCiAgICAgICAgcm91dGU6ZnVuY3Rpb24oZXZlbnQpIHsNCiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgiaWQiKSANCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZSA6ICJNT0RJRlkiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6ICB7IGlkOiB1c2VyX2lkfSB9KQ0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Orders.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div>\r\n        <ul id=\"itemsList\">\r\n            <li v-for=\"order in this.orders\" v-bind:key = \"order.id\">\r\n                <p v-for=\"(quantity, dish) in order[1]\" v-bind:key=\"dish.id\"> {{dish}}: {{quantity}} </p>\r\n                <!-- {{getOrderList(order[1])}}-->\r\n                <button v-bind:id= order[0] v-on:click=\"deleteItem($event)\"> Delete </button>\r\n                <button v-bind:id= order[0] v-on:click=\"route($event)\"> Modify </button>\r\n            </li>\r\n            \r\n        </ul>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport database from \"../firebase.js\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            orders:[]\r\n        }\r\n    },\r\n    created:function() {\r\n        this.fetchItems()\r\n    },\r\n\r\n    methods: {\r\n        fetchItems:function() {\r\n              database.collection('orders').get().then(snapshot => {\r\n                snapshot.docs.forEach(doc => {\r\n                    this.orders.push([doc.id, doc.data()]);\r\n                });\r\n            });\r\n        },\r\n        getOrderList:function(order){\r\n            var string = \"\";\r\n            for (var dish in order) {\r\n                string += dish + \": \" + order[dish] + \"\\n\"\r\n            }\r\n\r\n            return string\r\n        },\r\n        deleteItem:function(event) { \r\n            let doc_id = event.target.getAttribute(\"id\");\r\n            //console.log(doc_id)\r\n            database.collection(\"orders\").doc(doc_id).delete().then(()=>{location.reload();});\r\n            \r\n        },\r\n        route:function(event) {\r\n            let user_id = event.target.getAttribute(\"id\") \r\n            this.$router.push({ name : \"MODIFY\",\r\n                                params:  { id: user_id} })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nul {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  flex-grow: 1;\r\n  flex-basis: 300px;\r\n  text-align: center;\r\n  padding: 10px;\r\n  border: 1px solid #222;\r\n  margin: 10px;\r\n}\r\n\r\nbutton {\r\n  width: 65px;\r\n  height: 30px;\r\n  background-color: #f7cac9;\r\n  border-radius: 10px;\r\n  border-width: 1px;\r\n}\r\n</style>"]}]}