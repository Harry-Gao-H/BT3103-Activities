{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\BarChart.js","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\BarChart.js","mtime":1614931799755},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IEJhciB9IGZyb20gJ3Z1ZS1jaGFydGpzJzsKaW1wb3J0IGRhdGFiYXNlIGZyb20gJy4uL2ZpcmViYXNlLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGV4dGVuZHM6IEJhciwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YWNvbGxlY3Rpb246IHsKICAgICAgICBsYWJlbHM6IFtdLAogICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgbGFiZWw6ICJOdW1iZXIiLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbXSwKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgb3B0aW9uczogewogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgdGV4dDogJ1RvdGFsIE51bWJlciBvZiBFYWNoIERpc2gnCiAgICAgICAgfSwKICAgICAgICByZXNwb25zaXZlOiB0cnVlLAogICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaEl0ZW1zOiBmdW5jdGlvbiBmZXRjaEl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGZpcnN0ID0gdHJ1ZTsKICAgICAgdmFyIHJlY29yZCA9IHt9OwogICAgICBkYXRhYmFzZS5jb2xsZWN0aW9uKCdvcmRlcnMnKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChxdWVyeVNuYXBTaG90KSB7CiAgICAgICAgcXVlcnlTbmFwU2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHsKICAgICAgICAgIHZhciBkYXRhID0gZG9jLmRhdGEoKTsKCiAgICAgICAgICBpZiAoZmlyc3QpIHsKICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhKTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHJlY29yZFtrZXlzW2ldXSA9IHBhcnNlSW50KGRhdGFba2V5c1tpXV0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpOwoKICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGtleXMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgcmVjb3JkW2tleXNbX2ldXSA9IGRhdGFba2V5c1tfaV1dICsgcmVjb3JkW2tleXNbX2ldXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVjb3JkKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5sYWJlbHMucHVzaChrZXlzW2ldKTsKCiAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5kYXRhc2V0c1swXS5kYXRhLnB1c2gocmVjb3JkW2tleXNbaV1dKTsgLy9yYW5kb20gY29sb3IgZ2VuZXJhdG9yCgoKICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmRhdGFzZXRzWzBdLmJhY2tncm91bmRDb2xvci5wdXNoKCIjIiArICgoMSA8PCAyNCkgKiBNYXRoLnJhbmRvbSgpIHwgMCkudG9TdHJpbmcoMTYpKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLnJlbmRlckNoYXJ0KF90aGlzLmRhdGFjb2xsZWN0aW9uLCBfdGhpcy5vcHRpb25zKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaEl0ZW1zKCk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/Gao Haochun/bt3103-week-4/src/components/BarChart.js"],"names":["Bar","database","extends","data","datacollection","labels","datasets","label","backgroundColor","options","legend","display","title","text","responsive","maintainAspectRatio","methods","fetchItems","first","record","collection","get","then","querySnapShot","forEach","doc","keys","Object","i","length","parseInt","push","Math","random","toString","renderChart","created"],"mappings":";;;;;AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,eAAe;AACbC,EAAAA,OAAO,EAAEF,GADI;AAEbG,EAAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACHC,MAAAA,cAAc,EAAE;AACZC,QAAAA,MAAM,EAAE,EADI;AAEZC,QAAAA,QAAQ,EAAE,CAAC;AACPC,UAAAA,KAAK,EAAE,QADA;AAEPC,UAAAA,eAAe,EAAE,EAFV;AAGPL,UAAAA,IAAI,EAAE;AAHC,SAAD;AAFE,OADb;AASHM,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,OAAO,EAAE;AAAX,SADH;AAELC,QAAAA,KAAK,EAAE;AACLD,UAAAA,OAAO,EAAE,IADJ;AAELE,UAAAA,IAAI,EAAE;AAFD,SAFF;AAMLC,QAAAA,UAAU,EAAE,IANP;AAOLC,QAAAA,mBAAmB,EAAE;AAPhB;AATN,KAAP;AAmBD,GAtBY;AAuBbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACpB,UAAIC,KAAK,GAAG,IAAZ;AACA,UAAIC,MAAM,GAAG,EAAb;AACFlB,MAAAA,QAAQ,CAACmB,UAAT,CAAoB,QAApB,EAA8BC,GAA9B,GAAoCC,IAApC,CAAyC,UAAAC,aAAa,EAAI;AACxDA,QAAAA,aAAa,CAACC,OAAd,CAAsB,UAAAC,GAAG,EAAI;AACzB,cAAItB,IAAI,GAAGsB,GAAG,CAACtB,IAAJ,EAAX;;AACA,cAAIe,KAAJ,EAAW;AACP,gBAAIQ,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYvB,IAAZ,CAAX;;AACA,iBAAK,IAAIyB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClCT,cAAAA,MAAM,CAACO,IAAI,CAACE,CAAD,CAAL,CAAN,GAAkBE,QAAQ,CAAC3B,IAAI,CAACuB,IAAI,CAACE,CAAD,CAAL,CAAL,CAA1B;AACH;;AACDV,YAAAA,KAAK,GAAG,KAAR;AACH,WAND,MAMO;AACHQ,YAAAA,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYvB,IAAZ,CAAP;;AACA,iBAAK,IAAIyB,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,EAAC,EAAlC,EAAsC;AAClCT,cAAAA,MAAM,CAACO,IAAI,CAACE,EAAD,CAAL,CAAN,GAAkBzB,IAAI,CAACuB,IAAI,CAACE,EAAD,CAAL,CAAJ,GAAgBT,MAAM,CAACO,IAAI,CAACE,EAAD,CAAL,CAAxC;AACH;AACJ;AAEJ,SAfD;AAiBA,YAAIF,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYP,MAAZ,CAAX;;AACA,aAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACG,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;AAClC,UAAA,KAAI,CAACxB,cAAL,CAAoBC,MAApB,CAA2B0B,IAA3B,CAAgCL,IAAI,CAACE,CAAD,CAApC;;AACA,UAAA,KAAI,CAACxB,cAAL,CAAoBE,QAApB,CAA6B,CAA7B,EAAgCH,IAAhC,CAAqC4B,IAArC,CAA0CZ,MAAM,CAACO,IAAI,CAACE,CAAD,CAAL,CAAhD,EAFkC,CAGlC;;;AACA,UAAA,KAAI,CAACxB,cAAL,CAAoBE,QAApB,CAA6B,CAA7B,EAAgCE,eAAhC,CAAgDuB,IAAhD,CAAqD,MAAM,CAAC,CAAC,KAAG,EAAJ,IAAQC,IAAI,CAACC,MAAL,EAAR,GAAwB,CAAzB,EAA4BC,QAA5B,CAAqC,EAArC,CAA3D;AACH;;AAID,QAAA,KAAI,CAACC,WAAL,CAAiB,KAAI,CAAC/B,cAAtB,EAAsC,KAAI,CAACK,OAA3C;AACD,OA7BD;AA8BD;AAlCM,GAvBI;AA2Db2B,EAAAA,OA3Da,qBA2DF;AACT,SAAKnB,UAAL;AACD;AA7DY,CAAf","sourcesContent":["import { Bar } from 'vue-chartjs'\r\nimport database from '../firebase.js'\r\n\r\nexport default {\r\n  extends: Bar,\r\n  data: function () {\r\n    return {\r\n        datacollection: {\r\n            labels: [],\r\n            datasets: [{\r\n                label: \"Number\",\r\n                backgroundColor: [],\r\n                data: []\r\n              }]\r\n        },\r\n        options: {\r\n            legend: { display: false },\r\n            title: {\r\n              display: true,\r\n              text: 'Total Number of Each Dish'\r\n            },\r\n            responsive: true,\r\n            maintainAspectRatio: false\r\n        }\r\n    }\r\n  },\r\n  methods: {\r\n    fetchItems: function () {\r\n        var first = true;\r\n        var record = {};\r\n      database.collection('orders').get().then(querySnapShot => {\r\n        querySnapShot.forEach(doc => { \r\n            var data = doc.data()\r\n            if (first) {\r\n                var keys = Object.keys(data)\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    record[keys[i]] = parseInt(data[keys[i]])\r\n                }\r\n                first = false\r\n            } else {\r\n                keys = Object.keys(data)\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    record[keys[i]] = data[keys[i]] + record[keys[i]]\r\n                }\r\n            } \r\n            \r\n        })\r\n\r\n        var keys = Object.keys(record)\r\n        for (let i = 0; i < keys.length; i++) {\r\n            this.datacollection.labels.push(keys[i])\r\n            this.datacollection.datasets[0].data.push(record[keys[i]])\r\n            //random color generator\r\n            this.datacollection.datasets[0].backgroundColor.push(\"#\" + ((1<<24)*Math.random() | 0).toString(16))\r\n        }\r\n        \r\n            \r\n            \r\n        this.renderChart(this.datacollection, this.options)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.fetchItems()\r\n  }\r\n}\r\n"]}]}