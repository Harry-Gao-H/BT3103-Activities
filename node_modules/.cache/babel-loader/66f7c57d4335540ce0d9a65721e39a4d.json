{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\Basket.vue","mtime":1614220340335},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGRhdGFiYXNlIGZyb20gIi4uL2ZpcmViYXNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCYXNrZXQnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb3VudGVyOiAwLAogICAgICBzaG93OiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpdGVtc1NlbGVjdGVkOiB7CiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KCkgewogICAgICB0aGlzLnNob3cgPSB0cnVlOwogICAgfSwKICAgIHNlbmRPcmRlcjogZnVuY3Rpb24gc2VuZE9yZGVyKCkgewogICAgICB2YXIgdGhpc09yZGVyID0gewogICAgICAgICJQcmF3biBvbWVsZXR0ZSI6IDAsCiAgICAgICAgIkRyeSBCZWVmIEhvciBGdW4iOiAwLAogICAgICAgICJTYW1iYWwgS2FuZ0t1bmciOiAwLAogICAgICAgICJQb3JrIEZyaWVkIFJpY2UiOiAwLAogICAgICAgICJNYXBvIFRvZnUiOiAwLAogICAgICAgICJDZXJlYWwgUHJhd24iOiAwCiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlbXNTZWxlY3RlZC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciB0aGlzSXRlbSA9IHRoaXMuaXRlbXNTZWxlY3RlZFtpXTsKICAgICAgICB0aGlzT3JkZXJbdGhpc0l0ZW1bMF1dID0gdGhpc0l0ZW1bMV07CiAgICAgIH0KCiAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oIm9yZGVycyIpLmFkZCh0aGlzT3JkZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBnZXRTdWJ0b3RhbDogZnVuY3Rpb24gZ2V0U3VidG90YWwoKSB7CiAgICAgIHZhciBzdW0gPSAwOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zU2VsZWN0ZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNTZWxlY3RlZFtpXTsKICAgICAgICBzdW0gKz0gaXRlbVsxXSAqIGl0ZW1bMl07CiAgICAgIH0gLy90aGlzLnN1YnRvdGFsID0gc3VtOwoKCiAgICAgIHJldHVybiBzdW07CiAgICB9LAogICAgZ2V0R3JhbmRUb3RhbDogZnVuY3Rpb24gZ2V0R3JhbmRUb3RhbCgpIHsKICAgICAgLy90aGlzLmdyYW5kVG90YWwgPSB0aGlzLnN1YnRvdGFsICogMS4wNwogICAgICB2YXIgc3VtID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtc1NlbGVjdGVkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zU2VsZWN0ZWRbaV07CiAgICAgICAgc3VtICs9IGl0ZW1bMV0gKiBpdGVtWzJdOwogICAgICB9CgogICAgICByZXR1cm4gKHN1bSAqIDEuMDcpLnRvRml4ZWQoMik7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA,OAAA,QAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CADA;AAEA,MAAA,IAAA,EAAA;AAFA,KAAA;AAKA,GARA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GATA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,OAAA,EAAA,mBAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,KAHA;AAKA,IAAA,SAAA,EAAA,qBAAA;AACA,UAAA,SAAA,GAAA;AACA,0BAAA,CADA;AAEA,4BAAA,CAFA;AAGA,2BAAA,CAHA;AAIA,2BAAA,CAJA;AAKA,qBAAA,CALA;AAMA,wBAAA;AANA,OAAA;;AAQA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,QAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,QAAA,SAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAAA,GAAA,QAAA,CAAA,CAAA,CAAA;AACA;;AAEA,MAAA,QAAA,CAAA,UAAA,CAAA,QAAA,EAAA,GAAA,CACA,SADA,EAEA,IAFA,CAEA,YAAA;AAAA,QAAA,QAAA,CAAA,MAAA;AAAA,OAFA;AAGA;AAtBA,GAdA;AAuCA,EAAA,QAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AACA,UAAA,GAAA,GAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,QAAA,GAAA,IAAA,IAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AACA,OALA,CAMA;;;AACA,aAAA,GAAA;AACA,KATA;AAUA,IAAA,aAAA,EAAA,yBAAA;AACA;AACA,UAAA,GAAA,GAAA,CAAA;;AACA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,KAAA,aAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,IAAA,GAAA,KAAA,aAAA,CAAA,CAAA,CAAA;AACA,QAAA,GAAA,IAAA,IAAA,CAAA,CAAA,CAAA,GAAA,IAAA,CAAA,CAAA,CAAA;AACA;;AACA,aAAA,CAAA,GAAA,GAAA,IAAA,EAAA,OAAA,CAAA,CAAA,CAAA;AACA;AAlBA;AAvCA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n      <p>Menu: </p>\r\n      <ul>\r\n          <li v-for=\"item in itemsSelected\" v-bind:key=\"item[0]\">\r\n              {{item[0]}} x {{item[1]}}\r\n          </li>\r\n      </ul>\r\n        <button v-on:click=\"display();sendOrder()\"> Calculate Total </button>\r\n        <div v-show=\"this.show\">\r\n            <p>Subtotal: ${{getSubtotal}}</p>\r\n            <p>Grand Total: ${{getGrandTotal}}</p>\r\n        </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport database from \"../firebase.js\"\r\n\r\nexport default {\r\n    name: 'Basket',\r\n    data() {\r\n      return{\r\n          counter: 0,\r\n          show: false\r\n      }\r\n\r\n    },\r\n    props: {\r\n      itemsSelected: {\r\n        type : Array\r\n      }\r\n    },\r\n    methods:{\r\n        display: function() {\r\n            this.show = true\r\n        },\r\n        \r\n        sendOrder:function(){\r\n            var thisOrder = {\r\n              \"Prawn omelette\": 0,\r\n              \"Dry Beef Hor Fun\": 0,\r\n              \"Sambal KangKung\": 0,\r\n              \"Pork Fried Rice\": 0,\r\n              \"Mapo Tofu\" : 0,\r\n              \"Cereal Prawn\": 0\r\n            };\r\n            for(let i = 0; i < this.itemsSelected.length;i++) {\r\n              var thisItem = this.itemsSelected[i];\r\n              thisOrder[thisItem[0]] = thisItem[1]\r\n            }\r\n\r\n            database.collection(\"orders\").add(\r\n                thisOrder\r\n              ).then(() => {location.reload()} )\r\n        },\r\n    },\r\n\r\n    computed: {\r\n      getSubtotal: function() {\r\n          var sum = 0;\r\n          for (let i = 0; i < this.itemsSelected.length; i++) {\r\n              var item = this.itemsSelected[i]\r\n              sum+= item[1] * item[2]\r\n          }\r\n          //this.subtotal = sum;\r\n          return sum\r\n      },\r\n        getGrandTotal: function() {\r\n          //this.grandTotal = this.subtotal * 1.07\r\n          var sum = 0;\r\n          for (let i = 0; i < this.itemsSelected.length; i++) {\r\n              var item = this.itemsSelected[i]\r\n              sum+= item[1] * item[2]\r\n          }\r\n          return (sum*1.07).toFixed(2)\r\n      }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbutton {\r\n  background-color: darksalmon;\r\n  border-color: antiquewhite;\r\n  font-size: 30px;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/components"}]}