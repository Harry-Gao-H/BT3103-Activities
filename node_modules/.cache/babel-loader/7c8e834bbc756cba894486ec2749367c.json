{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\CallAPI.js","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\CallAPI.js","mtime":1615118033782},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBMaW5lIH0gZnJvbSAndnVlLWNoYXJ0anMnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgZXh0ZW5kczogTGluZSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YWNvbGxlY3Rpb246IHsKICAgICAgICBsYWJlbHM6IFtdLAogICAgICAgIGRhdGFzZXRzOiBbXSAvL2NvbG9ycyA6IFsncmVkJywnYmx1ZScsJ3llbGxvdycsJ2dyZWVuJywncHVycGxlJywnYnJvd24nXQoKICAgICAgfSwKICAgICAgb3B0aW9uczogewogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIGRpc3BsYXk6IHRydWUsCiAgICAgICAgICB0ZXh0OiAnUFNJIDI0IEhvdXJseSAoQnkgUmVnaW9uKScKICAgICAgICB9LAogICAgICAgIHJlc3BvbnNpdmU6IHRydWUsCiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UKICAgICAgfSwKICAgICAgaW5kaWNlOiB7CiAgICAgICAgIndlc3QiOiAwLAogICAgICAgICJuYXRpb25hbCI6IDEsCiAgICAgICAgImVhc3QiOiAyLAogICAgICAgICJjZW50cmFsIjogMywKICAgICAgICAic291dGgiOiA0LAogICAgICAgICJub3J0aCI6IDUKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoSXRlbXM6IGZ1bmN0aW9uIGZldGNoSXRlbXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcmVnaW9ucyA9IFsid2VzdCIsICJuYXRpb25hbCIsICJlYXN0IiwgImNlbnRyYWwiLCAic291dGgiLCAibm9ydGgiXTsKICAgICAgdmFyIGNvbG9ycyA9IFsnI2RiNTg1MycsICcjNDM3ZWRlJywgJyNkMmQ5MDcnLCAnIzMwYTgyYycsICcjOTMwZmY3JywgJ2Jyb3duJ107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykgewogICAgICAgIHRoaXMuZGF0YWNvbGxlY3Rpb24uZGF0YXNldHNbaV0gPSB7CiAgICAgICAgICBkYXRhOiBbXSwKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzW2ldLAogICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yc1tpXSwKICAgICAgICAgIGZpbGw6IGZhbHNlLAogICAgICAgICAgbGFiZWw6IHJlZ2lvbnNbaV0KICAgICAgICB9OwogICAgICB9CgogICAgICBheGlvcy5nZXQoImh0dHBzOi8vYXBpLmRhdGEuZ292LnNnL3YxL2Vudmlyb25tZW50L3BzaT9kYXRlPTIwMjEtMDItMjMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLmRhdGEuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgX3RoaXMuZGF0YWNvbGxlY3Rpb24ubGFiZWxzLnB1c2goZGF0YVsidGltZXN0YW1wIl0pOwoKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICAgICAgdmFyIHBzaSA9IGRhdGEucmVhZGluZ3MucHNpX3R3ZW50eV9mb3VyX2hvdXJseTsKICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocHNpKTsKCiAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwga2V5cy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgX3RoaXMuZGF0YWNvbGxlY3Rpb24uZGF0YXNldHNbX3RoaXMuaW5kaWNlW2tleXNbX2ldXV0uZGF0YS5wdXNoKHBzaVtrZXlzW19pXV0pOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5yZW5kZXJDaGFydChfdGhpcy5kYXRhY29sbGVjdGlvbiwgX3RoaXMub3B0aW9ucyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hJdGVtcygpOwogIH0KfTs="},{"version":3,"sources":["C:/Users/Gao Haochun/bt3103-week-4/src/components/CallAPI.js"],"names":["Line","axios","extends","data","datacollection","labels","datasets","options","legend","display","title","text","responsive","maintainAspectRatio","indice","methods","fetchItems","regions","colors","i","backgroundColor","borderColor","fill","label","get","then","response","items","forEach","push","console","log","psi","readings","psi_twenty_four_hourly","keys","Object","length","renderChart","created"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,aAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,EAAAA,OAAO,EAAEF,IADI;AAEbG,EAAAA,IAAI,EAAE,gBAAY;AAChB,WAAO;AACHC,MAAAA,cAAc,EAAE;AACZC,QAAAA,MAAM,EAAE,EADI;AAEZC,QAAAA,QAAQ,EAAE,EAFE,CAGZ;;AAHY,OADb;AAMHC,MAAAA,OAAO,EAAE;AACLC,QAAAA,MAAM,EAAE;AACJC,UAAAA,OAAO,EAAE;AADL,SADH;AAKLC,QAAAA,KAAK,EAAE;AACLD,UAAAA,OAAO,EAAE,IADJ;AAELE,UAAAA,IAAI,EAAE;AAFD,SALF;AASLC,QAAAA,UAAU,EAAE,IATP;AAULC,QAAAA,mBAAmB,EAAE;AAVhB,OANN;AAkBHC,MAAAA,MAAM,EAAG;AACL,gBAAS,CADJ;AAEL,oBAAa,CAFR;AAGL,gBAAS,CAHJ;AAIL,mBAAY,CAJP;AAKL,iBAAU,CALL;AAML,iBAAU;AANL;AAlBN,KAAP;AA2BD,GA9BY;AA+BbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,UAAU,EAAE,sBAAY;AAAA;;AACpB,UAAIC,OAAO,GAAG,CAAC,MAAD,EAAS,UAAT,EAAqB,MAArB,EAA6B,SAA7B,EAAwC,OAAxC,EAAiD,OAAjD,CAAd;AACA,UAAIC,MAAM,GAAG,CAAC,SAAD,EAAW,SAAX,EAAqB,SAArB,EAA+B,SAA/B,EAAyC,SAAzC,EAAmD,OAAnD,CAAb;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,aAAKf,cAAL,CAAoBE,QAApB,CAA6Ba,CAA7B,IAAkC;AAC9BhB,UAAAA,IAAI,EAAG,EADuB;AAE9BiB,UAAAA,eAAe,EAAGF,MAAM,CAACC,CAAD,CAFM;AAG9BE,UAAAA,WAAW,EAAGH,MAAM,CAACC,CAAD,CAHU;AAI9BG,UAAAA,IAAI,EAAE,KAJwB;AAK9BC,UAAAA,KAAK,EAAEN,OAAO,CAACE,CAAD;AALgB,SAAlC;AAOH;;AAGDlB,MAAAA,KAAK,CAACuB,GAAN,+DACCC,IADD,CACM,UAAAC,QAAQ,EAAI;AACdA,QAAAA,QAAQ,CAACvB,IAAT,CAAcwB,KAAd,CAAoBC,OAApB,CAA4B,UAAAzB,IAAI,EAAI;AAChC,UAAA,KAAI,CAACC,cAAL,CAAoBC,MAApB,CAA2BwB,IAA3B,CAAgC1B,IAAI,CAAC,WAAD,CAApC;;AACA2B,UAAAA,OAAO,CAACC,GAAR,CAAY5B,IAAZ;AACA,cAAI6B,GAAG,GAAG7B,IAAI,CAAC8B,QAAL,CAAcC,sBAAxB;AACA,cAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYH,GAAZ,CAAX;;AAEA,eAAK,IAAIb,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGgB,IAAI,CAACE,MAAzB,EAAiClB,EAAC,EAAlC,EAAsC;AAClC,YAAA,KAAI,CAACf,cAAL,CAAoBE,QAApB,CAA6B,KAAI,CAACQ,MAAL,CAAYqB,IAAI,CAAChB,EAAD,CAAhB,CAA7B,EAAmDhB,IAAnD,CAAwD0B,IAAxD,CAA6DG,GAAG,CAACG,IAAI,CAAChB,EAAD,CAAL,CAAhE;AACH;AAEJ,SAVD;;AAWA,QAAA,KAAI,CAACmB,WAAL,CAAiB,KAAI,CAAClC,cAAtB,EAAsC,KAAI,CAACG,OAA3C;AACH,OAdD;AAeH;AA9BM,GA/BI;AA+DbgC,EAAAA,OA/Da,qBA+DF;AACT,SAAKvB,UAAL;AACD;AAjEY,CAAf","sourcesContent":["import { Line } from 'vue-chartjs'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  extends: Line,\r\n  data: function () {\r\n    return {\r\n        datacollection: {\r\n            labels: [],\r\n            datasets: [],\r\n            //colors : ['red','blue','yellow','green','purple','brown']\r\n        },\r\n        options: {\r\n            legend: { \r\n                display: true,\r\n                \r\n            },\r\n            title: {\r\n              display: true,\r\n              text: 'PSI 24 Hourly (By Region)'\r\n            },\r\n            responsive: true,\r\n            maintainAspectRatio: false\r\n        },\r\n        indice : {\r\n            \"west\" : 0,\r\n            \"national\" : 1,\r\n            \"east\" : 2,\r\n            \"central\" : 3,\r\n            \"south\" : 4,\r\n            \"north\" : 5\r\n        }\r\n    }\r\n  },\r\n  methods: {\r\n    fetchItems: function () {\r\n        var regions = [\"west\", \"national\", \"east\", \"central\", \"south\", \"north\" ];\r\n        var colors = ['#db5853','#437ede','#d2d907','#30a82c','#930ff7','brown']\r\n        for (let i = 0; i < 6; i++) {\r\n            this.datacollection.datasets[i] = {\r\n                data : [],\r\n                backgroundColor : colors[i],\r\n                borderColor : colors[i],\r\n                fill: false,\r\n                label: regions[i]\r\n            }\r\n        }\r\n\r\n\r\n        axios.get(`https://api.data.gov.sg/v1/environment/psi?date=2021-02-23`)\r\n        .then(response => {\r\n            response.data.items.forEach(data => { \r\n                this.datacollection.labels.push(data[\"timestamp\"])\r\n                console.log(data)\r\n                var psi = data.readings.psi_twenty_four_hourly;\r\n                var keys = Object.keys(psi)\r\n\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    this.datacollection.datasets[this.indice[keys[i]]].data.push(psi[keys[i]])\r\n                }\r\n                \r\n            })\r\n            this.renderChart(this.datacollection, this.options)\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.fetchItems()\r\n  }\r\n}\r\n\r\n\r\n"]}]}