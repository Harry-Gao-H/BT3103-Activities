{"remainingRequest":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\BarChart.js","dependencies":[{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\src\\components\\BarChart.js","mtime":1615452101931},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Gao Haochun\\bt3103-week-4\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgeyBCYXIgfSBmcm9tICd2dWUtY2hhcnRqcyc7CmltcG9ydCBkYXRhYmFzZSBmcm9tICcuLi9maXJlYmFzZS5qcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAvL2V4dGVuZHM6IEJhciwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YWNvbGxlY3Rpb246IHsKICAgICAgICBsYWJlbHM6IFtdLAogICAgICAgIGRhdGFzZXRzOiBbewogICAgICAgICAgbGFiZWw6ICJOdW1iZXIiLAogICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBbXSwKICAgICAgICAgIGRhdGE6IFtdCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgb3B0aW9uczogewogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UKICAgICAgICB9LAogICAgICAgIHRpdGxlOiB7CiAgICAgICAgICBkaXNwbGF5OiB0cnVlLAogICAgICAgICAgdGV4dDogJ1RvdGFsIE51bWJlciBvZiBFYWNoIERpc2gnCiAgICAgICAgfSwKICAgICAgICBzY2FsZXM6IHsKICAgICAgICAgIHlBeGVzOiBbewogICAgICAgICAgICB0aWNrczogewogICAgICAgICAgICAgIG1pbjogMAogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSwKICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hJdGVtczogZnVuY3Rpb24gZmV0Y2hJdGVtcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmaXJzdCA9IHRydWU7CiAgICAgIHZhciBjb2xvcnMgPSBbJyNkYjU4NTMnLCAnIzQzN2VkZScsICcjZDJkOTA3JywgJyMzMGE4MmMnLCAnIzkzMGZmNycsICdicm93biddOwogICAgICB2YXIgcmVjb3JkID0ge307CiAgICAgIGRhdGFiYXNlLmNvbGxlY3Rpb24oJ29yZGVycycpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcFNob3QpIHsKICAgICAgICBxdWVyeVNuYXBTaG90LmZvckVhY2goZnVuY3Rpb24gKGRvYykgewogICAgICAgICAgdmFyIGRhdGEgPSBkb2MuZGF0YSgpOwoKICAgICAgICAgIGlmIChmaXJzdCkgewogICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpOwoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgcmVjb3JkW2tleXNbaV1dID0gcGFyc2VJbnQoZGF0YVtrZXlzW2ldXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7CgogICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwga2V5cy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICByZWNvcmRba2V5c1tfaV1dID0gcGFyc2VJbnQoZGF0YVtrZXlzW19pXV0pICsgcmVjb3JkW2tleXNbX2ldXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVjb3JkKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5sYWJlbHMucHVzaChrZXlzW2ldKTsKCiAgICAgICAgICBfdGhpcy5kYXRhY29sbGVjdGlvbi5kYXRhc2V0c1swXS5kYXRhLnB1c2gocmVjb3JkW2tleXNbaV1dKTsgLy9yYW5kb20gY29sb3IgZ2VuZXJhdG9yCgoKICAgICAgICAgIF90aGlzLmRhdGFjb2xsZWN0aW9uLmRhdGFzZXRzWzBdLmJhY2tncm91bmRDb2xvci5wdXNoKGNvbG9yc1tpXSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5yZW5kZXJDaGFydChfdGhpcy5kYXRhY29sbGVjdGlvbiwgX3RoaXMub3B0aW9ucyk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hJdGVtcygpOwogIH0KfTs="},{"version":3,"sources":["C:/Users/Gao Haochun/bt3103-week-4/src/components/BarChart.js"],"names":["Bar","database","data","datacollection","labels","datasets","label","backgroundColor","options","legend","display","title","text","scales","yAxes","ticks","min","responsive","maintainAspectRatio","methods","fetchItems","first","colors","record","collection","get","then","querySnapShot","forEach","doc","keys","Object","i","length","parseInt","push","renderChart","created"],"mappings":"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","sourcesContent":["import { Bar } from 'vue-chartjs'\r\nimport database from '../firebase.js'\r\n\r\nexport default {\r\n  //extends: Bar,\r\n  data: function () {\r\n    return {\r\n        datacollection: {\r\n            labels: [],\r\n            datasets: [{\r\n                label: \"Number\",\r\n                backgroundColor: [],\r\n                data: []\r\n              }]\r\n        },\r\n        options: {\r\n            legend: { display: false },\r\n            title: {\r\n              display: true,\r\n              text: 'Total Number of Each Dish'\r\n            },\r\n            scales:{\r\n                yAxes:[{\r\n                    ticks:{\r\n                        min:0\r\n                    }\r\n\r\n                }]\r\n            },\r\n            responsive: true,\r\n            maintainAspectRatio: false\r\n        }\r\n    }\r\n  },\r\n  methods: {\r\n    fetchItems: function () {\r\n        var first = true;\r\n        var colors = ['#db5853','#437ede','#d2d907','#30a82c','#930ff7','brown']\r\n        var record = {};\r\n      database.collection('orders').get().then(querySnapShot => {\r\n        querySnapShot.forEach(doc => { \r\n            var data = doc.data()\r\n            if (first) {\r\n                var keys = Object.keys(data)\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    record[keys[i]] = parseInt(data[keys[i]])\r\n                }\r\n                first = false\r\n            } else {\r\n                keys = Object.keys(data)\r\n                for (let i = 0; i < keys.length; i++) {\r\n                    record[keys[i]] = parseInt(data[keys[i]]) + record[keys[i]]\r\n                }\r\n            } \r\n            \r\n        })\r\n\r\n        var keys = Object.keys(record)\r\n        for (let i = 0; i < keys.length; i++) {\r\n            this.datacollection.labels.push(keys[i])\r\n            this.datacollection.datasets[0].data.push(record[keys[i]])\r\n            //random color generator\r\n            this.datacollection.datasets[0].backgroundColor.push(colors[i])\r\n        }\r\n        \r\n            \r\n            \r\n        this.renderChart(this.datacollection, this.options)\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.fetchItems()\r\n  }\r\n}\r\n"]}]}